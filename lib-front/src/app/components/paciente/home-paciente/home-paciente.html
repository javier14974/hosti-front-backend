<div class="dashboard-container">
  <header class="dashboard-header">
    <div class="user-info">
      <h1>Bienvenido de nuevo, <span>{{ nombreUsuario }}</span></h1>
      <p class="id-badge">ID de Paciente: #{{ id_paciente }}</p>
    </div>
    <div class="header-actions">
      <button class="btn-post" (click)="enviar_id_reserva()">+ Subir post de reserva</button>
      <button class="btn-logout" (click)="salir()">Cerrar SesiÃ³n</button>
    </div>
  </header>

  <section class="posts-section">
    <h2>Mis publicaciones recientes</h2>

    <div class="posts-grid">
      @for (po of lista_post; track po.id) {
        <div class="post-card">
          <div class="post-status" [attr.data-status]="po.estado">
            {{ po.estado }}
          </div>
          
          <div class="post-body">
            <h3>{{ po.descripcion_dolor }}</h3>
            <p><strong>Paciente:</strong> {{ po.nombre_paciente }}</p>
            <p class="post-date">ðŸ“… {{ po.fecha_creacion }}</p>
            <small>ID de Registro: {{ po.id }}</small>
          </div>

          <div class="post-actions">
            <button class="btn-edit" (click)="editar_post(po.id)">Editar</button>
            <button class="btn-delete" (click)="eliminar_post(po.id)">Borrar</button>
          </div>
        </div>
      }
    </div>
    
    @if (lista_post.length === 0) {
      <div class="empty-state">
        <p>AÃºn no has subido ningÃºn post.</p>
      </div>
    }
  </section>
</div>